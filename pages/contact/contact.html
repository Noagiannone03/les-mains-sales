<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Les Mains Sales - CONTACT</title>
  
  <!-- Préchargement d'images actives si nécessaire -->
  <link rel="preload" href="../../assets/hand-button/btn-envoyer-clic.png" as="image" />
  <link rel="preload" href="../../assets/pictos/black-pic/contact-original.png" as="image" />
  <link rel="preload" href="../../assets/pictos/colored-pic/contact-clic.png" as="image" />

  <!-- Importations styles css -->
  <link rel="stylesheet" href="styles/styles/main-contact.css">
  <link rel="stylesheet" href="styles/styles/navbar.css">
  <link rel="stylesheet" href="styles/styles/form.css">
  <link rel="stylesheet" href="styles/styles/grid.css">
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar">
    <div class="logo">
      <a href="../../index.html"><img src="../../assets/logos/lesmainssales-noir.png" alt="Logo" /></a>
    </div>
    <nav>
      <a href="../../index.html" class="nav-home">Home</a>
      <a href="../portfolio/portfolio.html" class="nav-portfolio">Portfolio</a>
      <a href="../concept/concept.html" class="nav-concept">Concept</a>
      <a href="../contact/contact.html" class="nav-contact">Contact</a>
    </nav>
  </header>

  <!-- SECTION CONTACT -->
  <section class="contact-section">
    <div class="contact-container">
      <!-- Titre + icône de contact -->
      <div class="contact-top-row">
        <h1 class="contact-title">CONTACT</h1>
        <img class="contact-small-image" 
             src="../../assets/pictos/black-pic/contact-original.png" 
             alt="Contact Icon" />
      </div>
      <!-- Contenu en deux colonnes -->
      <div class="contact-content">
        <!-- Colonne Formulaire -->
        <div class="contact-form-column">
          <div class="contact-input-group">
            <input id="nomprenom" type="text" class="contact-input" placeholder="Nom et Prénom" />
          </div>
          <div class="contact-input-group">
            <input id="email" type="email" class="contact-input" placeholder="Email" />
          </div>
          <div class="contact-input-group">
            <input type="text" id="message" class="contact-textarea" placeholder="Message"/>
          </div>
          <button class="contact-button">Envoyer</button>
        </div>
        <!-- Colonne Info -->
        <div class="contact-info-column">
          <p class="contact-description">
            Les Mains Sales transforment les espaces urbains en lieux de dialogue artistique, réinventant les traditions pour créer des environnements attractifs et réfléchis, stimulant l'implication citoyenne dans une urbanité alternative et inclusive.
          </p>
          <div class="contact-icons">
            <a href="https://www.facebook.com" target="_blank">
              <img src="../../assets/pictos/black-pic/facebook-contact.png" alt="Facebook Icon" />
              Facebook
            </a>
            <a href="tel:+33123456789" target="_blank">
              <img src="../../assets/pictos/black-pic/phone-contact.png" alt="Phone Icon" />
              <span class="phone-text">+33 1 23 45 67 89</span>
            </a>
            <a href="https://www.instagram.com" target="_blank">
              <img src="../../assets/pictos/black-pic/insta-contact.png" alt="Instagram Icon" />
              Instagram
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

   <!-- SECTION: DYNAMIC GRID -->
   <section class="dynamic-grid-section">
    <div class="grid-container" id="gridContainer">
      <!-- Les 36 cellules seront générées par JavaScript -->
    </div>
  </section>

  <!-- JavaScript pour toggle mode dans la section Contact -->
  <script>
    // Toggle de mode contact via clic sur l'icône contact (petite image)
    const contactSection = document.querySelector('.contact-section');
    const contactSmallImage = document.querySelector('.contact-small-image');
    let contactToggled = false;

    contactSmallImage.addEventListener('click', function() {
      contactToggled = !contactToggled;
      if (contactToggled) {
        contactSection.classList.add('toggled');
        // Change l'icône contact par la version active
        contactSmallImage.src = "../../assets/pictos/colored-pic/contact-clic.png";
      } else {
        contactSection.classList.remove('toggled');
        // Rétablir l'icône par défaut
        contactSmallImage.src = "../../assets/pictos/black-pic/contact-original.png";
      }
    });
  </script>

<script>
    // Tableau de base d'images (ajustez avec vos URL réelles)
    const imageBase = [
  "../../assets/images/rectangles-contact-grid/Rectangle-01.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-02.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-03.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-04.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-05.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-06.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-07.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-08.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-09.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-10.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-11.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-12.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-13.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-14.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-15.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-16.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-17.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-18.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-19.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-20.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-21.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-22.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-23.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-24.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-25.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-26.png",
  "../../assets/images/rectangles-contact-grid/Rectangle-27.png"
];


    

    const gridContainer = document.getElementById("gridContainer");
    const totalCells = 9 * 4; // 36 cellules
    // Stocke l'image affichée pour chaque cellule, par index
    let gridImages = new Array(totalCells).fill(null);

    // Crée la grille initiale : remplit aléatoirement environ 50% des cellules avec une image.
    function createGrid() {
      for (let i = 0; i < totalCells; i++) {
        const cell = document.createElement("div");
        cell.classList.add("grid-cell");
        if (Math.random() < 0.5) { // 50% de probabilité de remplir
          const randomImg = imageBase[Math.floor(Math.random() * imageBase.length)];
          const img = document.createElement("img");
          img.src = randomImg;
          cell.appendChild(img);
          gridImages[i] = randomImg;
        }
        gridContainer.appendChild(cell);
      }
    }
    createGrid();

    // Récupère les indices des cellules contenant une image
    function getFilledCellIndices() {
      const indices = [];
      const cells = gridContainer.querySelectorAll(".grid-cell");
      cells.forEach((cell, index) => {
        if (cell.querySelector("img")) {
          indices.push(index);
        }
      });
      return indices;
    }

    // Récupère les indices des cellules vides
    function getEmptyCellIndices() {
      const indices = [];
      const cells = gridContainer.querySelectorAll(".grid-cell");
      cells.forEach((cell, index) => {
        if (!cell.querySelector("img")) {
          indices.push(index);
        }
      });
      return indices;
    }

    // Récupère la liste des images actuellement affichées dans la grille
    function getCurrentImages() {
      return gridImages.filter(src => src !== null);
    }

    // Choisit une image aléatoire de la base qui n'est pas déjà affichée
    function getRandomImageExcluding(exclusions) {
      const available = imageBase.filter(src => !exclusions.includes(src));
      if (available.length === 0) return null;
      return available[Math.floor(Math.random() * available.length)];
    }

    // Animation : disparaître une image (fade out) et apparaître deux images (fade in)
    function animateGrid() {
      const filledIndices = getFilledCellIndices();
      const emptyIndices = getEmptyCellIndices();
      if (filledIndices.length > 0 && emptyIndices.length >= 3) {
        // Choisir aléatoirement une cellule remplie pour enlever son image
        const removeIndex = filledIndices[Math.floor(Math.random() * filledIndices.length)];
        const cellToClear = gridContainer.children[removeIndex];
        const imgToRemove = cellToClear.querySelector("img");
        if (imgToRemove) {
          imgToRemove.style.opacity = "0";
          setTimeout(() => {
            cellToClear.innerHTML = "";
            cellToClear.classList.add("empty");
            gridImages[removeIndex] = null;

            // Maintenant, ajouter deux images dans deux cellules vides
            const newEmptyIndices = getEmptyCellIndices();
            if (newEmptyIndices.length >= 2) {
              for (let i = 0; i < 3; i++) {
                const emptyIndex = newEmptyIndices[Math.floor(Math.random() * newEmptyIndices.length)];
                const cell = gridContainer.children[emptyIndex];
                const currentDisplayed = getCurrentImages();
                const newImgSrc = getRandomImageExcluding(currentDisplayed);
                if (newImgSrc) {
                  const newImg = document.createElement("img");
                  newImg.src = newImgSrc;
                  newImg.style.opacity = "0";
                  cell.appendChild(newImg);
                  cell.classList.remove("empty");
                  gridImages[emptyIndex] = newImgSrc;
                  setTimeout(() => {
                    newImg.style.opacity = "1";
                  }, 50);
                }
              }
            }
          }, 500); // Durée du fade out (500ms)
        }
      }
    }

    // Lancer l'animation toutes les 5 secondes
    setInterval(animateGrid, 5000);
  </script>
</body>
</html>
